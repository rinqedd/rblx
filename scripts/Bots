if not game:IsLoaded() then game.Loaded:Wait() end

local OwnerName = "rinqed"

local Players = game.Players
local Owner = Players:FindFirstChild(OwnerName)
local Player = Players.LocalPlayer

if Owner and Player.Name ~= Owner.Name then
    game.RunService:Set3dRenderingEnabled(false)
    
    function Chat(Text)
        game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(Text,"All")
    end
    
    local Character = Player.Character
    Player.CharacterAdded:Connect(function(Char)
        Character = Char
    end)
    
    local BotOrder = {"rinq_Bot","rinq_Bot0","rinq_Bot1","rinq_Bot2","rinq_Bot3","rinq_Bot4","rinq_Bot5","rinq_Bot6","rinq_Bot8","rinq_Bot9"}
    local Commands = {}
    local BannedCmd = {"kick","addowner","clearowner","spam","rejoin"}
    local OwnerConns = {}
    local Conns = {}
    local Spam = false
    
    function Root(Char)
        return Char.HumanoidRootPart or Char.Torso
    end
    
    function GetPlayer(Name)
        local Plr
        Name = Name:lower()
        
    	for i,v in pairs(Players:GetPlayers()) do
    		if v.Name:lower():match("^"..Name) then
    			Plr = v
    			break
    		end
    	end
    
    	return Plr
    end
    
    function AddCmd(Cmd,Function)
        Commands[Cmd] = Function
    end
    
    function RunCmd(Cmd,Args,Speaker)
	    if Cmd == "bring" or Cmd == "line" or Cmd == "sort" then
            Commands[Cmd](unpack(Args),Speaker)
        else
            Commands[Cmd](unpack(Args))
        end
    end
    
    function OnChat(Message)
        local Args = string.split(Message," ")
        local Cmd = Args[1]
        table.remove(Args,1)
        
        if Commands[Cmd] then
            RunCmd(Cmd,Args)
        end
    end
    
    function OnChat2(Speaker,Message)
        local Args = string.split(Message," ")
        local Cmd = Args[1]
        table.remove(Args,1)
        
        if Commands[Cmd] and not table.find(BannedCmd,Cmd) then
            RunCmd(Cmd,Args,Speaker)
        end
    end
    
    Owner.Chatted:Connect(OnChat)
    
    AddCmd("tp",function(Vic,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Vic = GetPlayer(Vic).Character
            Character.Humanoid.Jump = true
            Root(Character).CFrame = Root(Vic).CFrame
        end
    end)
    
    AddCmd("bring",function(Plr,Speaker)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Vic = Owner.Character
            if Speaker then 
                Vic = GetPlayer(Speaker).Character
            end
            Root(Character).CFrame = Root(Vic).CFrame
        end
    end)
    
    AddCmd("reset",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.Health = 0
        end
    end)
    
    AddCmd("kick",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Player:Kick("Forcefully disconnected by owner: "..Owner.Name)
        end
    end)
    
    AddCmd("chat",function(Plr,...)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Args = {...}
            local Text = ""
            for _,v in pairs(Args) do
                Text = Text.." "..v
            end
            Chat(Text)
        end
    end)

    AddCmd("walkto",function(Vic,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Vic = GetPlayer(Vic).Character
            Character.Humanoid.WalkToPoint = Root(Vic).Position
        end
    end)
    
    AddCmd("jump",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.Jump = true
        end
    end)
    
    AddCmd("sit",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.Sit = true
        end
    end)
    
    AddCmd("walkspeed",function(Speed,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.WalkSpeed = Speed
        end
    end)
    
    AddCmd("jumppower",function(Power,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.JumpPower = Power
        end
    end)
    
    AddCmd("hipheight",function(Height,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Character.Humanoid.HipHeight = Height
        end
    end)
    
    AddCmd("spam",function(Plr,...)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Args = {...}
            local Text = ""
            for _,v in pairs(Args) do
                Text = Text.." "..v
            end
            Spam = true
            while Spam and wait(1) do
                Chat(Text)
            end
        end
    end)
    
    AddCmd("unspam",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Spam = false
        end
    end)
    
    AddCmd("rick",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Text = "Never gonna give you up, never gonna let you down. Never gonna run around, desert you. Never gonna make you cry, never gonna say goodbye."
            Chat(Text)
        end
    end)
    
    AddCmd("rejoin",function(Plr)
        syn.queue_on_teleport([[loadstring(game:HttpGet("https://github.com/rinqedd/rblx/blob/main/scripts/Bots"))()]])
        if #Players:GetPlayers() <= 1 then
            game.TeleportService:Teleport(game.PlaceId,Player)
        else
            game.TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,Player)
        end
    end)
    
    AddCmd("sort",function(Plr,Speaker)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Vic = Owner.Character
            if Speaker then 
                Vic = GetPlayer(Speaker).Character
            end
            local Position = Vector3.new((table.find(BotOrder,Player.Name))*3,0,0)
            Root(Character).CFrame = Root(Vic).CFrame * CFrame.new(Position)
        end
    end)
    
    AddCmd("line",function(Plr,Speaker)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Vic = Owner.Character
            if Speaker then 
                Vic = GetPlayer(Speaker).Character
            end
            local Position = Vector3.new(0,0,(table.find(BotOrder,Player.Name))*3)
            Root(Character).CFrame = Root(Vic).CFrame * CFrame.new(Position)
        end
    end)
    
    AddCmd("orbit",function(Vic,Speed,Radius,Width,Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Vic = Root(GetPlayer(Vic).Character)
            
            if not Speed then Speed = 8 end
            if not Radius then Radius = 8 end
            if not Width then Width = 1 end
            local Rotation = CFrame.Angles(0,0,0)
            local sin, cos = math.sin, math.cos
            local RotSpeed = math.pi*2/Speed
            Width = Width * Radius
            
            wait(table.find(BotOrder,Player.Name))
            
            local Rot = 0
            
            if Conns["Orbit"] then Conns["Orbit"]:Disconnect() end
            Conns["Orbit"] = game.RunService.Stepped:connect(function(t, dt)
                Rot = Rot + dt / RotSpeed
                Root(Character).CFrame = Rotation * CFrame.new(sin(Rot)*Width, 0, cos(Rot)*Radius) * CFrame.new(Vic.Position)
            end)
        end
    end)
    
    AddCmd("unorbit",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            Conns["Orbit"]:Disconnect()
        end
    end)
    
    AddCmd("addowner",function(Plr)
        local User = GetPlayer(Plr)
        local Conn = User.Chatted:Connect(function(Message)
            OnChat2(User.Name,Message)
        end)
        table.insert(OwnerConns,Conn)
        Chat("Added owner "..User.Name)
    end)
    
    AddCmd("clearowner",function()
        for i,Conn in pairs(OwnerConns) do
            Conn:Disconnect()
            table.remove(OwnerConns,i)
        end
        Chat("Removed all owners")
    end)
    
    AddCmd("cmds",function(Plr)
        if not Plr or Plr == "all" or GetPlayer(Plr) == Player then
            local Cmds = ""
            for Cmd,_ in pairs(Commands) do
                if Cmds == "" then
                    Cmds = Cmds..Cmd
                else
                    Cmds = Cmds.." | "..Cmd
                end
            end
            Chat(Cmds)
        end
    end)
end
